{"version":3,"sources":["store/index.js","components/search-bar/index.jsx","components/quotes/index.jsx","components/title.jsx","components/sub-title.jsx","components/loading.jsx","App.js","reportWebVitals.js","index.js","logo.svg"],"names":["StoreContext","createContext","initialState","query","fetching","quotes","reducer","state","action","type","Object","objectSpread","payload","Error","Form","styled","form","_templateObject","taggedTemplateLiteral","TextInput","input","attrs","_templateObject2","SubmitButton","button","_templateObject3","SearchBar","_ref","onSubmit","_useState","useState","_useState2","slicedToArray","value","setValue","onShake","samples","sample","Math","floor","random","length","useEffect","shakeDetector","ShakeDetector","requestTrigger","document","getElementById","requestPermission","then","start","window","addEventListener","SHAKE_EVENT","removeEventListener","react_default","a","createElement","id","event","preventDefault","autoFocus","name","placeholder","onChange","target","trim","Quotes","div","quotes_templateObject","Quote","quotes_templateObject2","Snippet","p","quotes_templateObject3","Collapsable","_templateObject4","_templateObject5","props","selected","CollapsableContent","_templateObject6","show","List","_useContext$store","useContext","store","setSelected","isSelected","index","processText","text","regex","RegExp","concat","sanitize","replace","match","toUpperCase","scrollIntoView","list","map","quote","i","key","onClick","Work","className","Snippets","snippet","j","dangerouslySetInnerHTML","__html","Title","title_templateObject","SubTitle","sub_title_templateObject","Loading","App","_useReducer","useReducer","_useReducer2","dispatch","title","sub_title","src_store","Provider","search_bar","callback","errCallback","axios","baseURL","process","REACT_APP_AP","url","response","data","Data","catch","error","console","log","searchQuery","fetchSuccess","loading","components_quotes","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode","src_App_0","module","exports"],"mappings":"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","file":"static/js/main.6ab1bea2.chunk.js","sourcesContent":["import React, {createContext} from 'react'\n\nconst FETCH_SUCCESS = 'fetchSuccess'\nconst START_FETCH = 'startFetch'\nconst END_FETCH = 'endFetch'\nconst RESET = 'reset'\nconst SET_QUERY = 'setQuery'\n\nconst StoreContext = createContext()\n\nexport const initialState = {\n  query: null,\n  fetching: false,\n  quotes: []\n}\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case SET_QUERY:\n      return {...state, query: action.payload}\n    case START_FETCH:\n      return {...state, fetching: true}\n    case END_FETCH:\n      return {...state, fetching: false}\n    case FETCH_SUCCESS:\n      return {...state, fetching: false, quotes: action.payload}\n    case RESET:\n      return initialState\n    default:\n      throw new Error()\n  }\n}\n\nexport const setQuery = (query) => (\n  { type: SET_QUERY, payload: query }\n)\n\nexport const fetchSuccess = (response) => (\n  { type: FETCH_SUCCESS, payload: response }\n)\n\nexport const startFetch = () => (\n  { type: START_FETCH }\n)\n\nexport const endFetch = () => (\n  { type: END_FETCH }\n)\n\nexport default StoreContext\n","import React, {useEffect, useState, useContext} from 'react'\nimport styled from 'styled-components'\nimport ShakeDetector from 'shake-detector';\n\nconst Form = styled.form`\n  display: flex;\n  align-items: stretch;\n  padding: 2rem 2rem;\n  with: 100%;\n  justify-content: center;\n  align-content: space-between;\n`\n\nconst TextInput = styled.input.attrs({\n  type: 'text'\n})`\n  align-self: auto;\n  flex-basis: 80%;\n  line-height: 4rem;\n  text-align: center;\n  color: #452f02;\n  background-color: #85a8bb;\n  border: none;\n  border-radius: 10px 0 0;\n`\n\nconst SubmitButton = styled.button.attrs({\n  type: 'submit'\n})`\n  align-self: auto;\n  flex-basis: 20%;\n  font-size: 1.3rem;\n  color: #452f02;\n  background-color: #85a8bb;\n  border: none;\n  border-left: 2px solid #b3c8d5;\n  border-radius: 0 10px 0 0;\n`\n\nconst SearchBar = ({onSubmit}) => {\n  const [value, setValue] = useState()\n\n  const onShake = () => {\n    if (value) {\n      onSubmit(value)\n      return\n    }\n\n    const samples = [\n      \"love\",\n      \"Macbeth\",\n      \"Romeo\",\n      \"Othello\"\n    ]\n\n    const index = Math.floor(Math.random()*samples.length)\n    const sample = samples[index]\n    setValue(sample)\n    onSubmit(sample)\n  }\n\n  useEffect(() => {\n    const shakeDetector = new ShakeDetector()\n    const requestTrigger = document.getElementById('requestTrigger');\n\n    shakeDetector.requestPermission(requestTrigger).then(() => {\n      shakeDetector.start();\n    });\n\n    window.addEventListener(ShakeDetector.SHAKE_EVENT, onShake);\n    return () => window.removeEventListener(ShakeDetector.SHAKE_EVENT, onShake);\n  }, [])\n\n  const handleChange = (event) => {\n    setValue(event.target.value.trim())\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    onSubmit(value)\n  }\n\n  return (\n    <Form id=\"form\" onSubmit={handleSubmit}>\n      <TextInput autoFocus id=\"query\" name=\"query\" placeholder={\"Love\"} value={value} onChange={handleChange}/>\n      <SubmitButton>Search</SubmitButton>\n    </Form>\n  )\n}\n\nexport default SearchBar\n","import React, {useContext, useState, useEffect} from 'react'\nimport styled from 'styled-components'\nimport StoreContext from '../../store'\nimport sanitize from 'sanitize-html'\n\nconst Quotes = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justification-content: center;\n`\n\nconst Quote = styled.div`\n  background-color: #324d5b;\n  text-align: left;\n  flex-basis: 100%;\n  margin: 2rem;\n  padding: 2rem 2rem 0.5rem 2rem;\n`\n\nconst Snippet = styled.p`\n  color: #fbd88d;\n`\n\nconst Work = styled.p`\n  color: #a0d1e7;\n  text-align: center;\n  font-size: 1.2rem;\n  margin-top: 1rem;\n`\n\nconst Collapsable = styled.div`\n  color: #fbd88d;\n  text-align: left;\n  font-size: 1.5rem;\n  text-indent: 2rem;\n  margin-bottom: 0.5rem;\n  background-color: ${(props) => props.selected ? '#1c5772' : '#324d5b' };\n  transition: background-color 400ms linear;\n`\nconst CollapsableContent = styled.div`\n  margin-top: 1rem;\n  display: ${(props) => props.show ? 'block' : 'none'};\n`\n\nconst List = () => {\n  const {store: {quotes, query}} = useContext(StoreContext)\n  const [selected, setSelected] = useState()\n\n  const isSelected = (index) => index === selected\n\n  const toggleSelect = (index) => {\n    let i =  index === selected ? null : index\n    setSelected(i)\n  }\n\n  const processText = (text) => {\n    const regex = new RegExp(`(?:\\r\\n|\\r|\\n|${query})`, 'gi')\n    return sanitize(text).replace(\n      regex,\n      (match) => match.toUpperCase() === query.toUpperCase() ? `<span class=\"highlighted\">${match}</span>` : '<br/>'\n    )\n  }\n\n  useEffect(() => {\n    selected && document.getElementById(selected).scrollIntoView()\n  }, [selected])\n\n  const list = quotes.map((quote, i) => (\n    <Collapsable key={i} id={i} selected={isSelected(i)} onClick={() => toggleSelect(i)}>\n      {quote.Work} <span className=\"highlighted\">({quote.Snippets.length})</span>\n\n      <CollapsableContent show={isSelected(i)}>\n        {isSelected(i) && quote.Snippets.map((snippet, j) => (\n          <Quote key={`${i}-${j}`}>\n            <Snippet  dangerouslySetInnerHTML={{__html: processText(snippet)}} />\n          </Quote>\n        ))}\n      </CollapsableContent>\n    </Collapsable>\n  ))\n\n  return (\n    <Quotes> {list} </Quotes>\n  )\n}\n\nexport default List\n","import styled from 'styled-components'\n\nconst Title = styled.p`\n  color: #facc6a;\n  line-height: 15vh;\n  font-size: 15vh;\n  font-family: 'Times New Roman', serif;\n  vertical-align: middle;\n  margin-top: 5vh;\n  margin-bottom: 2vh;\n`\n\nexport default Title\n","import styled from 'styled-components'\n\nconst SubTitle = styled.div`\n  color: #e3c6a5;\n  font-family: 'Courier New', monospace;\n  font-size: 3vh;\n  margin: 4vw;\n`\n\nexport default SubTitle\n","import React from \"react\"\n\nconst Loading = () => <p>To find<br/> or <br/>Not to find...</p>\n\nexport default Loading\n","import React, {useReducer} from 'react'\nimport logo from './logo.svg'\nimport './App.css'\n\nimport StoreContext, {reducer, initialState, setQuery, startFetch, endFetch, fetchSuccess} from './store'\n\nimport SearchBar from './components/search-bar'\nimport QuotesList from './components/quotes'\nimport Title from './components/title'\nimport SubTitle from './components/sub-title'\nimport Loading from './components/loading'\n\n// Axios\nimport axios from 'axios'\n\nconst searchQuery = (text, callback, errCallback) => axios({\n    baseURL: process.env.REACT_APP_AP,\n    url:`search?q=${text}`\n  })\n  .then((response) => callback(response.data.Data))\n  .catch((error) => {\n    errCallback()\n    console.log('ERROR: ', error)\n  })\n///////////////////////////////////////////////////////////////////////\n\nconst App = () => {\n\n  const [store, dispatch] = useReducer(reducer, initialState)\n\n  const submitQuery = (text) => {\n    dispatch(startFetch())\n    dispatch(setQuery(text))\n\n    searchQuery(\n      text,\n      (response) => dispatch(fetchSuccess(response)),\n      () => dispatch(endFetch())\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <Title>\n        Shake Search\n      </Title>\n\n      <SubTitle>\n        Look for snippets containing\n        <br/>\n        <span className=\"highlighted\">a key word</span> in the complete works of\n        <br/>\n        William Shakespeare\n      </SubTitle>\n\n      <StoreContext.Provider value={{store, dispatch}}>\n        <SearchBar onSubmit={submitQuery}/>\n        {\n          store.fetching ? <Loading/> : <QuotesList />\n        }\n      </StoreContext.Provider>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = __webpack_public_path__ + \"static/media/logo.06e73328.svg\";"],"sourceRoot":""}