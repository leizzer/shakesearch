{"version":3,"sources":["store/index.js","components/search-bar/index.jsx","components/quotes/index.jsx","components/title.jsx","components/sub-title.jsx","components/loading.jsx","App.js","reportWebVitals.js","index.js","logo.svg"],"names":["StoreContext","createContext","initialState","query","fetching","quotes","reducer","state","action","type","Object","objectSpread","payload","Error","Form","styled","form","_templateObject","taggedTemplateLiteral","TextInput","input","attrs","_templateObject2","SubmitButton","button","_templateObject3","SearchBar","_ref","onSubmit","_useState","useState","_useState2","slicedToArray","value","setValue","onShake","alert","samples","sample","Math","floor","random","length","useEffect","ShakeDetector","start","window","addEventListener","SHAKE_EVENT","removeEventListener","react_default","a","createElement","id","event","preventDefault","autoFocus","name","placeholder","onChange","target","trim","Quotes","div","quotes_templateObject","Quote","quotes_templateObject2","Snippet","p","quotes_templateObject3","Collapsable","_templateObject4","_templateObject5","props","selected","CollapsableContent","_templateObject6","show","List","_useContext$store","useContext","store","setSelected","isSelected","index","processText","text","regex","RegExp","concat","sanitize","replace","match","toUpperCase","document","getElementById","scrollIntoView","list","map","quote","i","key","onClick","Work","className","Snippets","snippet","j","dangerouslySetInnerHTML","__html","Title","title_templateObject","SubTitle","sub_title_templateObject","Loading","App","_useReducer","useReducer","_useReducer2","dispatch","title","sub_title","src_store","Provider","search_bar","callback","errCallback","axios","baseURL","process","REACT_APP_AP","url","then","response","data","Data","catch","error","console","log","searchQuery","fetchSuccess","loading","components_quotes","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode","src_App_0","module","exports"],"mappings":"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","file":"static/js/main.2a31b4a0.chunk.js","sourcesContent":["import React, {createContext} from 'react'\n\nconst FETCH_SUCCESS = 'fetchSuccess'\nconst START_FETCH = 'startFetch'\nconst END_FETCH = 'endFetch'\nconst RESET = 'reset'\nconst SET_QUERY = 'setQuery'\n\nconst StoreContext = createContext()\n\nexport const initialState = {\n  query: null,\n  fetching: false,\n  quotes: []\n}\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case SET_QUERY:\n      return {...state, query: action.payload}\n    case START_FETCH:\n      return {...state, fetching: true}\n    case END_FETCH:\n      return {...state, fetching: false}\n    case FETCH_SUCCESS:\n      return {...state, fetching: false, quotes: action.payload}\n    case RESET:\n      return initialState\n    default:\n      throw new Error()\n  }\n}\n\nexport const setQuery = (query) => (\n  { type: SET_QUERY, payload: query }\n)\n\nexport const fetchSuccess = (response) => (\n  { type: FETCH_SUCCESS, payload: response }\n)\n\nexport const startFetch = () => (\n  { type: START_FETCH }\n)\n\nexport const endFetch = () => (\n  { type: END_FETCH }\n)\n\nexport default StoreContext\n","import React, {useEffect, useState, useContext} from 'react'\nimport styled from 'styled-components'\nimport ShakeDetector from 'shake-detector';\n\nconst Form = styled.form`\n  display: flex;\n  align-items: stretch;\n  padding: 2rem 2rem;\n  with: 100%;\n  justify-content: center;\n  align-content: space-between;\n`\n\nconst TextInput = styled.input.attrs({\n  type: 'text'\n})`\n  align-self: auto;\n  flex-basis: 80%;\n  line-height: 4rem;\n  text-align: center;\n  color: #452f02;\n  background-color: #85a8bb;\n  border: none;\n  border-radius: 10px 0 0;\n`\n\nconst SubmitButton = styled.button.attrs({\n  type: 'submit'\n})`\n  align-self: auto;\n  flex-basis: 20%;\n  font-size: 1.3rem;\n  color: #452f02;\n  background-color: #85a8bb;\n  border: none;\n  border-left: 2px solid #b3c8d5;\n  border-radius: 0 10px 0 0;\n`\n\nconst SearchBar = ({onSubmit}) => {\n  const [value, setValue] = useState()\n\n  const onShake = () => {\n    alert('shake')\n    if (value) {\n      onSubmit(value)\n      return\n    }\n\n    const samples = [\n      \"love\",\n      \"Macbeth\",\n      \"Romeo\",\n      \"Othello\"\n    ]\n\n    const index = Math.floor(Math.random()*samples.length)\n    const sample = samples[index]\n    setValue(sample)\n    onSubmit(sample)\n  }\n\n  useEffect(() => {\n    const shakeDetector = new ShakeDetector()\n    //const requestTrigger = document.getElementById('requestTrigger');\n\n    //shakeDetector.requestPermission(requestTrigger).then(() => {\n      shakeDetector.start();\n    //});\n\n    window.addEventListener(ShakeDetector.SHAKE_EVENT, onShake);\n    return () => window.removeEventListener(ShakeDetector.SHAKE_EVENT, onShake);\n  }, [])\n\n  const handleChange = (event) => {\n    setValue(event.target.value.trim())\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    onSubmit(value)\n  }\n\n  return (\n    <Form id=\"form\" onSubmit={handleSubmit}>\n      <TextInput autoFocus id=\"query\" name=\"query\" placeholder={\"Love\"} value={value} onChange={handleChange}/>\n      <SubmitButton>Search</SubmitButton>\n    </Form>\n  )\n}\n\nexport default SearchBar\n","import React, {useContext, useState, useEffect} from 'react'\nimport styled from 'styled-components'\nimport StoreContext from '../../store'\nimport sanitize from 'sanitize-html'\n\nconst Quotes = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justification-content: center;\n`\n\nconst Quote = styled.div`\n  background-color: #324d5b;\n  text-align: left;\n  flex-basis: 100%;\n  margin: 2rem;\n  padding: 2rem 2rem 0.5rem 2rem;\n`\n\nconst Snippet = styled.p`\n  color: #fbd88d;\n`\n\nconst Work = styled.p`\n  color: #a0d1e7;\n  text-align: center;\n  font-size: 1.2rem;\n  margin-top: 1rem;\n`\n\nconst Collapsable = styled.div`\n  color: #fbd88d;\n  text-align: left;\n  font-size: 1.5rem;\n  text-indent: 2rem;\n  margin-bottom: 0.5rem;\n  background-color: ${(props) => props.selected ? '#1c5772' : '#324d5b' };\n  transition: background-color 400ms linear;\n`\nconst CollapsableContent = styled.div`\n  margin-top: 1rem;\n  display: ${(props) => props.show ? 'block' : 'none'};\n`\n\nconst List = () => {\n  const {store: {quotes, query}} = useContext(StoreContext)\n  const [selected, setSelected] = useState()\n\n  const isSelected = (index) => index === selected\n\n  const toggleSelect = (index) => {\n    let i =  index === selected ? null : index\n    setSelected(i)\n  }\n\n  const processText = (text) => {\n    const regex = new RegExp(`(?:\\r\\n|\\r|\\n|${query})`, 'gi')\n    return sanitize(text).replace(\n      regex,\n      (match) => match.toUpperCase() === query.toUpperCase() ? `<span class=\"highlighted\">${match}</span>` : '<br/>'\n    )\n  }\n\n  useEffect(() => {\n    selected && document.getElementById(selected).scrollIntoView()\n  }, [selected])\n\n  const list = quotes.map((quote, i) => (\n    <Collapsable key={i} id={i} selected={isSelected(i)} onClick={() => toggleSelect(i)}>\n      {quote.Work} <span className=\"highlighted\">({quote.Snippets.length})</span>\n\n      <CollapsableContent show={isSelected(i)}>\n        {isSelected(i) && quote.Snippets.map((snippet, j) => (\n          <Quote key={`${i}-${j}`}>\n            <Snippet  dangerouslySetInnerHTML={{__html: processText(snippet)}} />\n          </Quote>\n        ))}\n      </CollapsableContent>\n    </Collapsable>\n  ))\n\n  return (\n    <Quotes> {list} </Quotes>\n  )\n}\n\nexport default List\n","import styled from 'styled-components'\n\nconst Title = styled.p`\n  color: #facc6a;\n  line-height: 15vh;\n  font-size: 15vh;\n  font-family: 'Times New Roman', serif;\n  vertical-align: middle;\n  margin-top: 5vh;\n  margin-bottom: 2vh;\n`\n\nexport default Title\n","import styled from 'styled-components'\n\nconst SubTitle = styled.div`\n  color: #e3c6a5;\n  font-family: 'Courier New', monospace;\n  font-size: 3vh;\n  margin: 4vw;\n`\n\nexport default SubTitle\n","import React from \"react\"\n\nconst Loading = () => <p>To find<br/> or <br/>Not to find...</p>\n\nexport default Loading\n","import React, {useReducer} from 'react'\nimport logo from './logo.svg'\nimport './App.css'\n\nimport StoreContext, {reducer, initialState, setQuery, startFetch, endFetch, fetchSuccess} from './store'\n\nimport SearchBar from './components/search-bar'\nimport QuotesList from './components/quotes'\nimport Title from './components/title'\nimport SubTitle from './components/sub-title'\nimport Loading from './components/loading'\n\n// Axios\nimport axios from 'axios'\n\nconst searchQuery = (text, callback, errCallback) => axios({\n    baseURL: process.env.REACT_APP_AP,\n    url:`search?q=${text}`\n  })\n  .then((response) => callback(response.data.Data))\n  .catch((error) => {\n    errCallback()\n    console.log('ERROR: ', error)\n  })\n///////////////////////////////////////////////////////////////////////\n\nconst App = () => {\n\n  const [store, dispatch] = useReducer(reducer, initialState)\n\n  const submitQuery = (text) => {\n    dispatch(startFetch())\n    dispatch(setQuery(text))\n\n    searchQuery(\n      text,\n      (response) => dispatch(fetchSuccess(response)),\n      () => dispatch(endFetch())\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <Title>\n        Shake Search\n      </Title>\n\n      <SubTitle>\n        Look for snippets containing\n        <br/>\n        <span className=\"highlighted\">a key word</span> in the complete works of\n        <br/>\n        William Shakespeare\n      </SubTitle>\n\n      <StoreContext.Provider value={{store, dispatch}}>\n        <SearchBar onSubmit={submitQuery}/>\n        {\n          store.fetching ? <Loading/> : <QuotesList />\n        }\n      </StoreContext.Provider>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = __webpack_public_path__ + \"static/media/logo.06e73328.svg\";"],"sourceRoot":""}